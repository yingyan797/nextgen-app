<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AI image tools</title>
    <style>
    * {
      box-sizing: border-box;
    }
    
    /* Create two equal columns that floats next to each other */
    .column {
      float: left;
      width: 50%;
      padding: 10px;
      /* height: 300px; Should be removed. Only for demonstration */
    }
    
    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    table, th, td {
      border: 0.5px solid black;
    }
    </style>
</head>

<body>
    <h1 style="background-color: lightskyblue;">Y-Detective AI image operation and detection tools | <a href="/sample">Clarifai sample app</a></h1>
    <form action="/imagelab" method="post">
        <b style="font-size: large;"> - Create a folder for a class of images - </b> (e.g., suspect John Smith, unknown white car, etc.):
        <input type="text" name="group"> <input type="submit" value="Create image class">
    </form>
    <div class="row">
    <div class="column" style="background-color: lightgoldenrodyellow;">
        <h2>Crop a set of useful objects from an image</h2>
        <form action="/imagelab" method="post">
            <b>Upload an image to start: </b> <input type="file" name="imgcrop"><br>
            <b>Describe the type of objects to emphasize:</b> e.g., human faces, id cards with photo and name, etc. <br>
            <textarea name="cropdesc" cols="50" rows="2"></textarea><br>
            <b>Roughtly how many objects are there? </b>
            <input type="radio" name="sz" value="1">Single (1); 
            <input type="radio" name="sz" value="s">2-4; 
            <input type="radio" name="sz" value="m">5-10; 
            <input type="radio" name="sz" value="l">> 10; <br>
            How large is each object relative to the image (optional)? <br>
            <input type="radio" name="sz" value="s">Small (< 5%); 
            <input type="radio" name="sz" value="m">Medium (5% - 20%); 
            <input type="radio" name="sz" value="l">Large (> 20%); <br>
            <input type="submit" value="Crop image">
        </form>
        <h2>Result preview</h2>
        <form action="/imagelab" method="post">
            Save files folder name: <input type="text" name="savefolder">
            <input type="submit" value="Save image">
        </form>
        Original image: <br>
        <img src="croporig" alt="Original"> <br>
        Images containing detected objects: <br>
        {% for rsim in result %}
        <img src="{{rsim}}" alt="Result">
        {% endfor %}
        <br>Explanations: <br>
        <textarea cols="45" rows="10">{{cropexpl}}</textarea>
    </div>
    <div class="column" style="background-color: lightcyan;">
        <h2>Find an image matching your descriptions most closely</h2>
        <form action="/imagelab" method="post">
        Enter or select the class of image to find through: <br>
        <input type="text" name="imggroup"> 
        <select name="imggroup">
            {% for imgr in imggroups %}
            <option value="{{imgr}}">{{imgr}}</option>
            {% endfor %}
        </select><br>
        Describe the image you are looking for: <br>
        <textarea name="imgdesc" cols="50" rows="5"></textarea><br>
        <input type="submit" value="Find image">
        </form>
        <h2>Result description and explanation</h2>
        Original images: <br>
        <img src="findorig" alt="Original"><br>
        Best match: <br>
        <img src="findres" alt="Result"> <br>
        Explanations: <br>
        <textarea cols="50" rows="10">{{findexpl}}</textarea>
    </div>
